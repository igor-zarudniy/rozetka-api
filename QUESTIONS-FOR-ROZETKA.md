# Питання для Розетки щодо інтеграції

## 1. Технічні деталі

### URL та доступ
- **Куди надіслати наш Webhook URL?** (куди вам передати посилання на наш API)
- **Які IP адреси використовує Розетка для запитів?** (для налаштування безпеки, якщо потрібно)

### HTTP методи
- **Чи можете використовувати POST для всіх операцій?**
  - Створення: POST ✅
  - Скасування: POST (замість DELETE)
  - Редагування: POST (замість PUT)
  - Статус: GET ✅
  - Завантаження файлів: POST ✅
  
  ⚠️ **Важливо:** Google Apps Script підтримує тільки GET та POST методи

### Формат даних
- **Чи формат даних з вашої документації актуальний?**
  - Поля `header.products` - це масив об'єктів?
  - Всі назви полів точні? (CustomerName, deliveryAddresType, тощо)

### Аутентифікація
- **Як передавати API ключ?**
  - Через URL параметр: `?apiKey=doros_...` ✅ (наш варіант)
  - Через HTTP header: `Authorization: Bearer ...` (не працює в Apps Script)
  
  ⚠️ **Ми можемо приймати API ключ тільки через URL параметр**

---

## 2. Бізнес-логіка

### Замовлення
- **Як часто надсилаються запити на створення замовлень?**
- **Чи потрібно підтвердження наявності товару в реальному часі?**
  - Зараз ми підтверджуємо всю кількість автоматично
  - Чи потрібна інтеграція з вашою системою складу?

### Статуси
- **Які статуси замовлень ви очікуєте?**
  - `created` - створено
  - `canceled` - скасовано
  - `updated` - оновлено
  - `shipped` - відправлено
  - Які ще?

### Помилки
- **Що робити якщо товару немає в наявності?**
  - Повертати помилку 400?
  - Чи створювати замовлення з `result: false` для окремих товарів?

### Файли
- **Які файли потрібно завантажувати?**
  - Формати: PDF, JPG, PNG?
  - Розмір файлів (максимум)?
  - Для яких замовлень потрібні файли? (`isFileRequired: true`)

---

## 3. Тестування

### Тестове середовище
- **Чи є у вас тестове/sandbox середовище?**
- **Чи можемо зробити тестові запити перед production?**
- **Хто буде тестувати інтеграцію з вашого боку?**

### Дані для тестів
- **Чи можете надіслати приклади реальних запитів?**
  - JSON з реальною структурою даних
  - Приклади помилкових запитів

---

## 4. Моніторинг та підтримка

### Логування
- **Чи потрібні логи всіх запитів?**
- **Як часто потрібна звітність?**

### Помилки
- **Куди повідомляти про критичні помилки?**
- **Контакти для технічної підтримки:**
  - Email:
  - Telegram/Slack:
  - Телефон:

### SLA
- **Які вимоги до доступності API?** (uptime)
- **Максимальний час відповіді?**

---

## 5. Наша інформація для вас

### API ключ
```
doros_mh0oorv7_a87c23d6761c420990afabc9cc59d91f
```

### Приклад URL (вставте свій Deployment ID)
```
https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec
```

### Приклад запиту на створення замовлення
```bash
POST https://script.google.com/macros/s/YOUR_DEPLOYMENT_ID/exec?action=create&apiKey=doros_mh0oorv7_a87c23d6761c420990afabc9cc59d91f

Headers:
Content-Type: application/json

Body:
{
  "header": {
    "comment": "Доставити після 18:00",
    "isFileRequired": true,
    "partnerOrderId": "ROZ123456789",
    "deliveryAddresType": "DropShipping",
    "cashOnDelivery": 0,
    "deliveryAddressId": "12345",
    "deliveryCompanyName": "Нова Пошта",
    "CustomerName": "Іван Петренко",
    "deliveryCity": "Київ",
    "deliveryPhone": "+380501234567",
    "deliveryStreet": "вул. Хрещатик, буд. 1",
    "products": [
      {
        "supplier_code": "SUP12345",
        "RZ_code": "11254855",
        "quantity": 2,
        "price": 100.50
      }
    ]
  }
}
```

### Відповідь
```json
{
  "guid": "123e4567-e89b-12d3-a456-426614174000",
  "orderItems": [...],
  "status": "created"
}
```

---

## Контакти з нашого боку
- **Email:**
- **Telegram:**
- **Телефон:**

